MACRO(SETUP_SAMPLE_START EXE_NAME)
	UNSET(SOURCE_FILES)
	UNSET(HEADER_FILES)
	UNSET(RESOURCE_FILES)
	UNSET(EFFECT_FILES)
	UNSET(DEFINITIONS)
ENDMACRO(SETUP_SAMPLE_START)

MACRO(SETUP_SAMPLE_END EXE_NAME)
	SOURCE_GROUP("Source Files" FILES ${SOURCE_FILES})
	SOURCE_GROUP("Header Files" FILES ${HEADER_FILES})
	SOURCE_GROUP("Resource Files" FILES ${RESOURCE_FILES})
	SOURCE_GROUP("Effect Files" FILES ${EFFECT_FILES})
	
	ADD_EXECUTABLE(${EXE_NAME} ${SOURCE_FILES} ${HEADER_FILES} ${RESOURCE_FILES} ${EFFECT_FILES})
	SET_TARGET_PROPERTIES(${EXE_NAME} PROPERTIES FOLDER examples)

if (APPLE)
	SET(MACOS_ENVIRONMENT "VK_LAYER_PATH=${CMAKE_SOURCE_DIR}/external/vulkan/macos/etc/vulkan/explicit_layer.d;VK_ICD_FILENAMES=${CMAKE_SOURCE_DIR}/external/vulkan/macos/etc/vulkan/icd.d/MoltenVK_icd.json")
	SET_TARGET_PROPERTIES(${EXE_NAME} PROPERTIES XCODE_SCHEME_ENVIRONMENT "${MACOS_ENVIRONMENT}")
elseif(WIN32)
	SET_TARGET_PROPERTIES(${EXE_NAME} PROPERTIES VS_DEBUGGER_WORKING_DIRECTORY "${CMAKE_CURRENT_BINARY_DIR}/Debug")
	SET_TARGET_PROPERTIES(${EXE_NAME} PROPERTIES VS_RELEASE_WORKING_DIRECTORY "${CMAKE_CURRENT_BINARY_DIR}/Debug")
endif()

	TARGET_COMPILE_DEFINITIONS(${EXE_NAME} PRIVATE ${DEFINITIONS})
	SET(EXTRA_LINKED_LIBRARIES 
		${EXTRA_LINKED_LIBRARIES}
		${ALL_LIBS}
	)
	TARGET_LINK_LIBRARIES(${EXE_NAME} ${EXTRA_LINKED_LIBRARIES})
ENDMACRO(SETUP_SAMPLE_END)

SETUP_SAMPLE_START(HelloIMGUI)
	SET(SOURCE_FILES
		1_HelloIMGUI/main.cpp
	)
SETUP_SAMPLE_END(HelloIMGUI)

# SETUP_SAMPLE_START(HelloVulkan)
# 	SET(SOURCE_FILES
# 		3_HelloVulkan/main.cpp
# 	)
# 	SET(RESOURCE_FILES
# 		shader.vert
# 		shader.frag
# 		vert.spv
# 		frag.spv
# 	)

# 	file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/3_HelloVulkan/shader.vert DESTINATION ${CMAKE_CURRENT_BINARY_DIR})
# 	file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/3_HelloVulkan/shader.frag DESTINATION ${CMAKE_CURRENT_BINARY_DIR})
# 	file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/3_HelloVulkan/vert.spv DESTINATION ${CMAKE_CURRENT_BINARY_DIR})
# 	file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/3_HelloVulkan/frag.spv DESTINATION ${CMAKE_CURRENT_BINARY_DIR})
# SETUP_SAMPLE_END(HelloVulkan)

SETUP_SAMPLE_START(Triangle)
	SET(SOURCE_FILES
		${CMAKE_CURRENT_SOURCE_DIR}/../Engine/Monkey/Launch/main.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/2_Triangle/Triangle.cpp
	)
	
	file(GLOB files "${CMAKE_CURRENT_SOURCE_DIR}/assets/shaders/2_Triangle/*.*")
	foreach(file ${files})
		SET(ASSETS
			${ASSETS}
			${file}
		)
	endforeach()
	SET(RESOURCE_FILES ${ASSETS})
SETUP_SAMPLE_END(Triangle)

SETUP_SAMPLE_START(OBJLoader)
	SET(SOURCE_FILES
		${CMAKE_CURRENT_SOURCE_DIR}/../Engine/Monkey/Launch/main.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/3_OBJLoader/OBJLoader.cpp
	)
	
	file(GLOB files "${CMAKE_CURRENT_SOURCE_DIR}/assets/shaders/3_OBJLoader/*.*")
	foreach(file ${files})
		SET(ASSETS
			${ASSETS}
			${file}
		)
	endforeach()
	SET(RESOURCE_FILES ${ASSETS})
SETUP_SAMPLE_END(OBJLoader)

SETUP_SAMPLE_START(Pipelines)
	set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} /SUBSYSTEM:WINDOWS")
	
	SET(SOURCE_FILES
		${CMAKE_CURRENT_SOURCE_DIR}/../Engine/Monkey/Launch/LaunchWindows.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/4_Pipelines/Pipelines.cpp
	)
	
	file(GLOB files "${CMAKE_CURRENT_SOURCE_DIR}/assets/shaders/4_Pipelines/*.*")
	foreach(file ${files})
		SET(ASSETS
			${ASSETS}
			${file}
		)
	endforeach()

	SET(RESOURCE_FILES ${ASSETS})
SETUP_SAMPLE_END(Pipelines)